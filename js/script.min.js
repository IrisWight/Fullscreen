jQuery(document).ready(function(e){function n(e,i,n){var s=e.children(".active");if("next"==i)var t=s.next();else if("prev"==i)var t=s.prev();else var t=e.children("li").eq(n);s.removeClass("active"),t.addClass("active")}function s(e,i,s){var t=0,l=e.children(".slider-dots"),r=6*Number(e.find(".cd-slider-content").eq(0).css("margin-right").replace("px","")),o=window.innerWidth;if(o="desktop"==x?o-r:o,e.children(".sub-slides").length>0){var a=e.children(".sub-slides"),d=a.children(".sub-visible");if(0==d.length&&(d=a.children("li").eq(0).addClass("sub-visible")),"nav"==i)var v=s;else var v="next"==i?d.next():d.prev();if(v.length>0){var c=v.index();t=parseInt(-c*o),u(a.get(0),"translateX",t+"px"),n(l,i,c),d.removeClass("sub-visible"),v.addClass("sub-visible")}}}function t(i,n){var s=m.filter(".visible"),t=s.find(".cd-slider-content").length>0?3*Number(s.find(".cd-slider-content").eq(0).css("margin-bottom").replace("px","")):0,l=c(h.get(0),"Y");if("nav"==i)var r=n;else var r="next"==i?s.next():s.prev();if(r.length>0){e(window).off("DOMMouseScroll mousewheel",o);var a=parseInt(-r.offset().top+l+t);a>0&&(a=0),u(h.get(0),"translateY",a+"px"),s.removeClass("visible"),r.addClass("visible"),0==r.find(".sub-visible").length&&r.find(".sub-slides").children("li").eq("0").addClass("sub-visible")}}function l(){x=f(h.get(0)),a(x,y),"mobile"==x?(y=!0,h.attr("style","").children(".visible").removeClass("visible")):(y=!1,0==m.filter(".visible").length&&m.eq(0).addClass("visible"),t("nav",m.filter(".visible"))),v(h),g=!1}function r(e){return e.originalEvent.detail<0||e.originalEvent.wheelDelta>0?(p--,Math.abs(p)>=w&&t("prev")):(p++,p>=w&&t("next")),C=!1,!1}function o(e){C||(window.requestAnimationFrame?window.requestAnimationFrame(function(){r(e)}):r(e),C=!0)}function a(i,n){"desktop"==i&&n?(e(window).on("DOMMouseScroll mousewheel",o),e(document).on("keydown",function(e){if("40"==e.which)e.preventDefault(),t("next");else if("38"==e.which)e.preventDefault(),t("prev");else if("39"==e.which){var i=m.filter(".visible");s(i,"next")}else if("37"==e.which){var i=m.filter(".visible");s(i,"prev")}})):"mobile"==i&&(e(window).off("DOMMouseScroll mousewheel",o),e(document).off("keydown"))}function d(n,s){if(0==n.find(".slider-dots").length){var t=e('<ol class="slider-dots"></ol>').appendTo(n);for(i=0;i<s;i++){var l=e(0==i?'<li class="active"></li>':"<li></li>");l.appendTo(t)}}}function v(i){var n=window.innerWidth;i.children("li").each(function(){var i=e(this),t=i.children(".sub-slides").children("li").length,l=t*n;if(l=0==l?n:l,i.css("width",l+"px"),t>0){var r=i.find(".sub-visible");0==r.length&&(r=i.find("li").eq(0),r.addClass("sub-visible")),s(i,"nav",r),d(i,t)}})}function c(e,i){var n=window.getComputedStyle(e,null),s=n.getPropertyValue("-webkit-transform")||n.getPropertyValue("-moz-transform")||n.getPropertyValue("-ms-transform")||n.getPropertyValue("-o-transform")||n.getPropertyValue("transform");if(s.indexOf("(")>=0){s=s.split("(")[1],s=s.split(")")[0],s=s.split(",");var t="X"==i?s[4]:s[5]}else var t=0;return Number(t)}function u(i,n,s){i.style["-webkit-transform"]=n+"("+s+")",i.style["-moz-transform"]=n+"("+s+")",i.style["-ms-transform"]=n+"("+s+")",i.style["-o-transform"]=n+"("+s+")",i.style.transform=n+"("+s+")",e(i).one("webkitTransitionEnd otransitionend oTransitionEnd msTransitionEnd transitionend",function(){"desktop"==x&&(p=0,e(window).on("DOMMouseScroll mousewheel",o))})}function f(e){var i=window.getComputedStyle(e,"::before").getPropertyValue("content").replace(/["']/g,"");return i}var h=e(".cd-slideshow"),m=h.children("li"),b=e(".cd-slideshow-nav"),p=0,w=6,g=!1,C=!1,x=f(h.get(0)),y=!1;a(x,!0),v(h),m.on("swipeleft",function(i){"mobile"==x&&s(e(this),"next")}),m.on("swiperight",function(i){"mobile"==x&&s(e(this),"prev")}),e(".btn-go").on("click",function(i){i.preventDefault(),e(this).closest("li").removeClass("active").next("li").addClass("active")}),b.on("click",".cd-nav-trigger",function(){b.hasClass("nav-open")&&"desktop"==x?e(window).on("DOMMouseScroll mousewheel",o):b.hasClass("nav-open")||"desktop"!=x||e(window).off("DOMMouseScroll mousewheel",o),b.toggleClass("nav-open")}),b.on("click","a",function(i){var l=e(i.target),r=l.parents(".sub-nav").length>0,a=r?l.parents(".sub-nav").parent("li").index():l.parent("li").index(),d=m.eq(a);if(h.addClass("remove-transitions"),b.removeClass("nav-open").one("webkitTransitionEnd otransitionend oTransitionEnd msTransitionEnd transitionend",function(){h.removeClass("remove-transitions")}),"desktop"==x&&(i.preventDefault(),t("nav",d),e(window).on("DOMMouseScroll mousewheel",o)),r){var v=l.parent("li").index()+1,c=d.children(".sub-slides").children("li").eq(v);s(d,"nav",c)}else d.children(".sub-slides").attr("style","").children("li.sub-visible").removeClass("sub-visible").end().children("li").eq(0).addClass("sub-visible"),n(d.children(".slider-dots"),"nav",0)}),e(window).on("resize",function(){g||(window.requestAnimationFrame?window.requestAnimationFrame(l):l(),g=!0)})});